!function(){"use strict";const e=document.querySelector("#typograf"),t=document.querySelector("#highLight"),i=new class{#e="";#t="";constructor(e){this._element=e,this._leftQuote="«",this._rightQuote="»"}get result(){return this.#t}get original(){return this.#e}set original(e){this.#e=e}process(){this.#e=this._element.value,this.#t=this.#e.replace(/\u0020-(\d)/g," −$1").replace(/(^|\n|\s|>)\-(\s)/g,"$1—$2").replace(/(?<![-!])-{2} /g,"— ").replace(/\u00a0{2,}|\u00a0\u0020|\u0020\u00a0/g," ").replace(/(\d)(?:\u0020)?[-—](?:\u0020)?(\d)/g,((e,t,i)=>`${t}–${i}`)).replace(/\([cс]\)/gi,"©").replace(/\(r\)/gi,"®").replace(/\(tm\)/gi,"™").replace(/\([рp]\)/gi,"₽").replace(/\.{3}/g,"…").replace(/(\d)[xх](\d)/gi,"$1×$2").replace(/\"([a-z0-9\u0410-\u042f\u0401…])/gi,`${this._leftQuote}$1`).replace(/([a-z0-9\u0410-\u042f\u0401…?!])\"/gi,`$1${this._rightQuote}`).replace(new RegExp(`"(${this._leftQuote}[a-zа-яё0-9…])`,"ig"),`${this._leftQuote}$1`).replace(new RegExp(`([a-zа-яё0-9…?!]${this._rightQuote})"`,"ig"),`$1${this._rightQuote}`).replace(new RegExp(`([-a-z0-9]+=)[${this._leftQuote}${this._rightQuote}]([^${this._leftQuote}${this._rightQuote}]*?)`,"ig"),'$1"$2').replace(new RegExp(`([-a-z0-9]+=)["]([^>${this._leftQuote}${this._rightQuote}]*?)[${this._leftQuote}${this._rightQuote}]`,"ig"),'$1"$2"').replace(new RegExp(`([0-6]?[0-9])['′]([0-6]?[0-9])?(\\d+)[${this._rightQuote}"]`,"g"),"$1′$2$3″").replace(/((?:^|\n|\t|[\u00a0 ]|>)[a-zа-яё]{1,2}) /gi,"$1 ").replace(/\-(то|ка)\u00a0/gi,"-$1 ").replace(/(?:\s|\t|[\u00a0 ])(же?|л[иь]|бы?|ка)([.,!?:;])?\u00a0/gi," $1$2 "),this._element.value=this.#t}}(e);e.addEventListener("keyup",(()=>{t.innerHTML=`<p>${e.value.replace(/\u00a0/g,'<span class="hlg">&nbsp;</span>').replace(/([…©®™₽×—–„“«»″′])/g,'<span class="hlb">$1</span>').replace(/\n{2,}/g,"</p><p>").replace(/\n/g,"<br />")}</p>`}));e.addEventListener("input",(()=>{i.process()}))}();